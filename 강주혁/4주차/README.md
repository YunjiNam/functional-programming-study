# 4주차 - 챕터 8. 계층형 설계란 무엇인가요?

## 소프트웨어 설계  
> 코드를 만들고, 테스트하고, 유지보수하기 쉬운 프로그래밍 방법을 선택하기 위해 미적 감각을 사용하는 것

## 계층형 설계
> 소프트웨어를 계층으로 구성하는 기술

### 계층을 잘 구분하려면?
구분하기 위한 다양한 변수를 찾고, 찾은 것을 가지고 어떻게 해야 하는지 알아야 한다.

## 설계 감각 키우기
### 입력
- 함수 본문
  - 길이
  - 복잡성
  - 구체화 단계
  - 함수 호출
  - 프로그래밍 언어의 기능 사용

- 계층 구조
  - 화살표 길이
  - 응집도
  - 구체화 단계

- 함수 시그니처
  - 함수명
  - 인자 이름
  - 인잣값
  - 리턴값


### 출력
- 조직화
  - 새로운 함수를 어디에 놓을지 결정
  - 함수를 다른 곳으로 이동

- 구현
  - 구현 바꾸기
  - 함수 추출하기
  - 데이터 구조 바꾸기

- 변경
  - 새 코드를 작성할 곳 선택하기
  - 적절한 수준의 구체화 단계 결정하기


## 패턴 1: 직접 구현
- 구현되지 않은 함수를 만들어 설계를 개선
- 호출 그래프를 만들어 함수 호출을 시각화
  - 함수를 모두 비슷한 계층에 있도록 하기
- 같은 계층 함수는 같은 목적 가져야 함
### 3단계 줌 레벨
> 계층형 설계에서의 문제
> 1. 계층 사이에 상호 관계
> 2. 특정 계층의 구현
> 3. 특정 함수의 구현

1. 전역 줌 레벨
   - 기본 줌 레벨
   - 계층 사이에 상호 관계를 포함해서 모든 문제 영역 살펴볼 수 있음

2. 계층 줌 레벨
   - 한 계층과 연결된 바로 아래 계층을 볼 수 있는 줌 레벨
   - 계층 구현이 어떻게 되어있는지 확인 가능

3. 함수 줌 레벨
   - 함수 하나와 바로 아래 연결된 함수들을 볼 수 있음
   - 함수 구현의 문제를 찾을 수 있음


## 리뷰
- 직접 구현한 코드는 **한 단계의 구체화 수준에 관한 문제** 만 해결
- 계층형 설계는 **특정 구체화 단계에 집중**할 수 있게 도와줌
- 호출 그래프는 **구체화 단계에 대한 풍부한 단서**를 보여줌
- 함수를 추출하면 **더 일반적인 함수**로 만들 수 있음
- 일반적인 함수가 많을수록 **재사용**하기 좋음
- **복잡성**을 감추지 않음